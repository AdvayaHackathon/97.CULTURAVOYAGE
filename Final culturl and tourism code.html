<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ExploreWorld - Complete Travel Planner</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <!-- Leaflet Routing Machine CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css" />
    <!-- jsPDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
            scroll-behavior: smooth;
            overflow-x: hidden;
        }

        header {
            background: linear-gradient(135deg, #3498db, #2c3e50);
            color: white;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .header-scrolled {
            padding: 0.5rem 0;
            background: rgba(44, 62, 80, 0.95);
            backdrop-filter: blur(10px);
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
        }

        .logo i {
            margin-right: 10px;
            transform-style: preserve-3d;
            animation: rotateLogo 5s infinite linear;
        }

        @keyframes rotateLogo {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(360deg); }
        }

        .nav-links {
            display: flex;
            list-style: none;
        }

        .nav-links li {
            margin-left: 1.5rem;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            position: relative;
        }

        .nav-links a:after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -4px;
            left: 0;
            background-color: #f1c40f;
            transition: width 0.3s ease;
        }

        .nav-links a:hover:after {
            width: 100%;
        }

        .nav-links a:hover {
            color: #f1c40f;
        }

        .hero {
            height: 90vh;
            background: url('https://images.unsplash.com/photo-1506929562872-bb421503ef21?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80') no-repeat center center/cover;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 0;
        }

        .hero-content {
            position: relative;
            z-index: 1;
            color: white;
            max-width: 600px;
            animation: fadeInUp 1s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.6);
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.6);
        }

        .btn {
            display: inline-block;
            background: #f1c40f;
            color: #333;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            text-decoration: none;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .btn:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: all 0.6s;
            z-index: -1;
        }

        .btn:hover:before {
            left: 100%;
        }

        .btn:hover {
            background: #f39c12;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .section-heading {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 3rem;
        }

        .section-title {
            text-align: center;
            margin-bottom: 1rem;
            font-size: 2.5rem;
            color: #2c3e50;
            position: relative;
        }

        .section-title:after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: #f1c40f;
        }

        .section-subtitle {
            color: #7f8c8d;
            font-size: 1.1rem;
            text-align: center;
            max-width: 600px;
        }

        .destinations {
            padding: 5rem 0;
            position: relative;
        }

        .destination-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
        }

        .destination-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
        }

        .destination-card:hover {
            transform: translateY(-15px) scale(1.03);
        }

        .card-img-container {
            height: 200px;
            overflow: hidden;
            position: relative;
        }

        .card-img {
            height: 100%;
            width: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .destination-card:hover .card-img {
            transform: scale(1.1);
        }

        .card-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, transparent 100%);
        }

        .card-content {
            padding: 1.5rem;
        }

        .card-content h3 {
            margin-bottom: 0.5rem;
            color: #2c3e50;
        }

        .card-content p {
            margin-bottom: 1rem;
            color: #7f8c8d;
        }

        .price {
            font-weight: bold;
            color: #e74c3c;
            font-size: 1.2rem;
            margin-bottom: 1rem;
            display: block;
        }

        .destination-features {
            display: flex;
            margin: 1rem 0;
            font-size: 0.9rem;
            flex-wrap: wrap;
        }

        .feature {
            margin-right: 15px;
            color: #7f8c8d;
            margin-bottom: 5px;
        }

        .feature i {
            margin-right: 5px;
            color: #3498db;
        }

        .rating {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }

        .rating i {
            color: #f1c40f;
            margin-right: 2px;
        }

        .rating-score {
            margin-left: 5px;
            font-weight: bold;
        }

        /* Map Navigation Styles */
        .map-navigation {
            padding: 5rem 0;
            background: #ecf0f1;
        }

        #map-app-container {
            display: flex;
            flex-direction: column;
            height: 70vh;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
            background: white;
        }

        #map-controls {
            padding: 20px;
            background: white;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
            border-bottom: 1px solid #eee;
        }

        #map-controls input {
            padding: 12px 15px;
            flex-grow: 1;
            min-width: 200px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
        }

        #map-controls input:focus {
            border-color: #3498db;
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
            outline: none;
        }

        #map-controls button {
            padding: 12px 25px;
            background: linear-gradient(135deg, #00b4db, #0083b0);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 180, 219, 0.3);
            transition: all 0.3s ease;
        }

        #map-controls button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 180, 219, 0.4);
        }

        #transport-modes {
            display: flex;
            gap: 8px;
            margin-left: 10px;
        }

        #transport-modes button {
            padding: 10px 15px;
            border-radius: 8px;
            background: rgba(0, 180, 219, 0.1);
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        #transport-modes button:hover {
            background: rgba(0, 180, 219, 0.2);
        }

        #transport-modes button.active {
            background: #00b4db;
            color: white;
        }

        #map-container {
            flex-grow: 1;
            position: relative;
        }

        #map {
            height: 100%;
            width: 100%;
        }

        #map-info {
            padding: 20px;
            background: white;
            max-height: 200px;
            overflow-y: auto;
            border-top: 1px solid #eee;
        }

        #map-info h4 {
            margin-bottom: 10px;
            color: #2c3e50;
        }

        #map-info p {
            margin-bottom: 8px;
        }

        #map-info .error {
            color: #e74c3c;
        }

        .route-instructions {
            margin-top: 10px;
            padding-left: 20px;
            max-height: 100px;
            overflow-y: auto;
        }

        .route-instructions li {
            margin-bottom: 5px;
            font-size: 0.9rem;
        }

        /* Voice Explorer Section */
        .voice-explorer {
            padding: 5rem 0;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }

        .voice-explorer-container {
            display: flex;
            flex-direction: column;
            height: 70vh;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
            background: white;
        }

        #voice-controls {
            padding: 20px;
            background: white;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
            border-bottom: 1px solid #eee;
        }

        #micButton { 
            padding: 15px 25px; 
            font-size: 18px; 
            background: #3498db; 
            color: white; 
            border: none; 
            border-radius: 5px; 
            cursor: pointer; 
            transition: all 0.3s;
        }

        #micButton:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        #voice-output { 
            margin-top: 10px; 
            padding: 15px; 
            background: white; 
            border-radius: 5px; 
            min-height: 20px;
        }

        #voice-history {
            padding: 15px;
            background: #f9f9f9;
            margin-top: 10px;
            border-radius: 5px;
            flex: 1;
            overflow-y: auto;
        }

        #voice-map {
            height: 100%;
            width: 100%;
            flex: 1;
        }

        .voice-explorer-content {
            display: flex;
            flex: 1;
        }

        .voice-map-container {
            flex: 1;
            padding: 15px;
        }

        .voice-info-container {
            flex: 1;
            padding: 15px;
            display: flex;
            flex-direction: column;
        }

        #speakButton {
            margin-top: 10px; 
            padding: 10px 15px; 
            background: #f1c40f;
            color: #333;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            align-self: flex-start;
            transition: all 0.3s;
        }

        #speakButton:hover {
            background: #f39c12;
        }

        /* Trip Planner Section */
        .trip-planner {
            padding: 5rem 0;
            background: linear-gradient(135deg, #e0f7fa 0%, #b2ebf2 100%);
        }

        .trip-planner-container {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .planner-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 2rem;
        }

        .planner-form-group {
            margin-bottom: 1rem;
        }

        .planner-form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #2c3e50;
        }

        .planner-form-group input,
        .planner-form-group select,
        .planner-form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .planner-form-group input:focus,
        .planner-form-group select:focus,
        .planner-form-group textarea:focus {
            border-color: #3498db;
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
            outline: none;
        }

        .planner-results {
            display: none;
            margin-top: 2rem;
        }

        .itinerary-day {
            margin-bottom: 2rem;
            border-left: 4px solid #3498db;
            padding-left: 1rem;
        }

        .itinerary-day h3 {
            color: #2c3e50;
            margin-bottom: 1rem;
        }

        .itinerary-activity {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 5px;
            margin-bottom: 1rem;
        }

        .itinerary-activity h4 {
            color: #3498db;
            margin-bottom: 0.5rem;
        }

        .local-cuisine {
            margin-top: 2rem;
        }

        .cuisine-item {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 5px;
        }

        .cuisine-item img {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 5px;
            margin-right: 1rem;
        }

        .cuisine-info h4 {
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }

        .planner-actions {
            display: flex;
            gap: 15px;
            margin-top: 2rem;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: white;
            padding: 2.5rem;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            position: relative;
            transform: scale(0.9);
            opacity: 0;
            transition: all 0.3s;
        }

        .modal.active .modal-content {
            transform: scale(1);
            opacity: 1;
        }

        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 1.5rem;
            cursor: pointer;
            color: #7f8c8d;
            transition: all 0.3s;
        }

        .close-modal:hover {
            color: #e74c3c;
            transform: rotate(90deg);
        }

        .modal h2 {
            margin-bottom: 1.5rem;
            color: #2c3e50;
            position: relative;
            padding-bottom: 10px;
        }

        .modal h2:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 2px;
            background: #3498db;
        }

        /* Testimonials Section */
        .testimonials {
            padding: 5rem 0;
            background: #ecf0f1;
            position: relative;
        }

        .testimonial-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
        }

        .testimonial-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s;
            position: relative;
        }

        .testimonial-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .testimonial-card::before {
            content: '\201C';
            font-family: Georgia, serif;
            position: absolute;
            top: 10px;
            left: 20px;
            font-size: 5rem;
            color: rgba(52, 152, 219, 0.1);
            z-index: 0;
        }

        .testimonial-card p {
            font-style: italic;
            margin-bottom: 1.5rem;
            position: relative;
            z-index: 1;
        }

        .user {
            display: flex;
            align-items: center;
        }

        .user-img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            margin-right: 1rem;
            object-fit: cover;
            border: 3px solid #3498db;
        }

        .user-info h4 {
            margin-bottom: 0.2rem;
            color: #2c3e50;
        }

        .user-info p {
            font-style: normal;
            color: #7f8c8d;
            font-size: 0.9rem;
            margin-bottom: 0;
        }

        /* Contact Section */
        .contact {
            padding: 5rem 0;
            background: white;
        }

        .contact-wrapper {
            display: flex;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.1);
            border-radius: 15px;
            overflow: hidden;
        }

        .contact-info {
            background: linear-gradient(135deg, #3498db, #2c3e50);
            color: white;
            padding: 3rem;
            width: 40%;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .contact-info h3 {
            margin-bottom: 2rem;
            font-size: 1.8rem;
        }

        .contact-info-item {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .contact-info-item i {
            margin-right: 1rem;
            font-size: 1.5rem;
            color: #f1c40f;
        }

        .contact-form {
            width: 60%;
            background: white;
            padding: 3rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #2c3e50;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            border-color: #3498db;
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
            outline: none;
        }

        .form-group textarea {
            height: 150px;
            resize: vertical;
        }

        /* Alert Styles */
        .alert {
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 5px;
            display: none;
        }

        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .alert-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        /* Footer Styles */
        footer {
            background: #2c3e50;
            color: white;
            padding: 3rem 0;
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            margin-bottom: 2rem;
        }

        .footer-section {
            flex: 1;
            min-width: 250px;
            margin-bottom: 1.5rem;
        }

        .footer-section h3 {
            margin-bottom: 1rem;
            font-size: 1.3rem;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-section h3:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 2px;
            background: #f1c40f;
        }

        .footer-section p, .footer-section a {
            color: #bdc3c7;
            margin-bottom: 0.5rem;
            display: block;
            text-decoration: none;
            transition: all 0.3s;
        }

        .footer-section a:hover {
            color: #f1c40f;
            transform: translateX(5px);
        }

        .social-links {
            display: flex;
            margin-top: 1rem;
        }

        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            margin-right: 10px;
            color: white;
            font-size: 1.2rem;
            transition: all 0.3s;
        }

        .social-links a:hover {
            background: #f1c40f;
            color: #2c3e50;
            transform: translateY(-5px);
        }

        .copyright {
            border-top: 1px solid #34495e;
            padding-top: 1.5rem;
            color: #bdc3c7;
            text-align: center;
        }

        /* Mobile Menu */
        .menu-toggle {
            display: none;
            cursor: pointer;
            font-size: 1.5rem;
            color: white;
        }

        @media (max-width: 768px) {
            .menu-toggle {
                display: block;
            }

            .nav-links {
                position: fixed;
                top: 70px;
                left: -100%;
                width: 100%;
                height: calc(100vh - 70px);
                background: #2c3e50;
                flex-direction: column;
                align-items: center;
                padding-top: 2rem;
                transition: left 0.3s;
            }

            .nav-links.active {
                left: 0;
            }

            .nav-links li {
                margin: 1rem 0;
            }

            .hero h1 {
                font-size: 2.2rem;
            }

            .hero p {
                font-size: 1rem;
            }

            #map-controls {
                flex-direction: column;
            }

            #transport-modes {
                margin-left: 0;
                width: 100%;
                justify-content: space-between;
            }

            .contact-wrapper {
                flex-direction: column;
            }

            .contact-info, .contact-form {
                width: 100%;
            }

            .planner-form {
                grid-template-columns: 1fr;
            }

            .voice-explorer-content {
                flex-direction: column;
            }

            .voice-map-container,
            .voice-info-container {
                flex: none;
                height: 50vh;
            }
        }

        @media (max-width: 576px) {
            .hero h1 {
                font-size: 1.8rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <nav>
                <a href="#" class="logo"><i class="fas fa-globe-americas"></i> ExploreWorld</a>
                <div class="menu-toggle">â˜°</div>
                <ul class="nav-links">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#destinations">Destinations</a></li>
                    <li><a href="#map-navigation">Map Navigation</a></li>
                    <li><a href="#voice-explorer">Voice Explorer</a></li>
                    <li><a href="#trip-planner">Trip Planner</a></li>
                    <li><a href="#testimonials">Testimonials</a></li>
                    <li><a href="#contact">Contact</a></li>
                    <li><a href="#" class="btn" id="bookNowBtn">Book Now</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <h1>Discover Amazing Places</h1>
                <p>Plan your perfect trip with our comprehensive travel tools and expert recommendations.</p>
                <a href="#trip-planner" class="btn">Plan Your Trip</a>
            </div>
        </div>
    </section>

    <!-- Destinations Section -->
    <section class="destinations" id="destinations">
        <div class="container">
            <div class="section-heading">
                <h2 class="section-title">Popular Destinations</h2>
                <p class="section-subtitle">Explore our hand-picked selection of the world's most amazing places to visit</p>
            </div>
            
            <div class="destination-grid">
                <!-- Destination Card 1 -->
                <div class="destination-card">
                    <div class="card-img-container">
                        <img src="https://images.unsplash.com/photo-1503917988258-f87a78e3c995?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Paris" class="card-img">
                    </div>
                    <div class="card-content">
                        <h3>Paris, France</h3>
                        <p>The city of love and lights, famous for its art, fashion, gastronomy and culture.</p>
                        <span class="price">From $999</span>
                        <div class="rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                            <span class="rating-score">4.7</span>
                        </div>
                        <div class="destination-features">
                            <div class="feature"><i class="fas fa-utensils"></i> Food</div>
                            <div class="feature"><i class="fas fa-landmark"></i> Culture</div>
                            <div class="feature"><i class="fas fa-heart"></i> Romance</div>
                        </div>
                        <button class="btn book-btn" data-destination="Paris, France">Book Now</button>
                    </div>
                </div>
                
                <!-- Destination Card 2 -->
                <div class="destination-card">
                    <div class="card-img-container">
                        <img src="https://images.unsplash.com/photo-1520175480921-4edfa2983e0f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Rome" class="card-img">
                    </div>
                    <div class="card-content">
                        <h3>Rome, Italy</h3>
                        <p>Explore ancient ruins, Vatican City, and some of the world's best Italian cuisine.</p>
                        <span class="price">From $1099</span>
                        <div class="rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <span class="rating-score">5.0</span>
                        </div>
                        <div class="destination-features">
                            <div class="feature"><i class="fas fa-landmark"></i> History</div>
                            <div class="feature"><i class="fas fa-utensils"></i> Food</div>
                            <div class="feature"><i class="fas fa-church"></i> Architecture</div>
                        </div>
                        <button class="btn book-btn" data-destination="Rome, Italy">Book Now</button>
                    </div>
                </div>
                
                <!-- Destination Card 3 -->
                <div class="destination-card">
                    <div class="card-img-container">
                        <img src="https://images.unsplash.com/photo-1492571350019-22de08371fd3?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Tokyo" class="card-img">
                    </div>
                    <div class="card-content">
                        <h3>Tokyo, Japan</h3>
                        <p>A vibrant mix of traditional and modern, with cutting-edge technology and ancient temples.</p>
                        <span class="price">From $1299</span>
                        <div class="rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <span class="rating-score">5.0</span>
                        </div>
                        <div class="destination-features">
                            <div class="feature"><i class="fas fa-utensils"></i> Food</div>
                            <div class="feature"><i class="fas fa-robot"></i> Technology</div>
                            <div class="feature"><i class="fas fa-torii-gate"></i> Culture</div>
                        </div>
                        <button class="btn book-btn" data-destination="Tokyo, Japan">Book Now</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Map Navigation Section -->
    <section class="map-navigation" id="map-navigation">
        <div class="container">
            <div class="section-heading">
                <h2 class="section-title">Map Navigation</h>
                    <p class="section-subtitle">Plan your route between locations with different transportation options</p>
                </div>
                <div id="map-app-container">
                    <div id="map-controls">
                        <input type="text" id="start-point" placeholder="Starting point (e.g., London, UK)">
                        <input type="text" id="end-point" placeholder="Destination (e.g., Paris, France)">
                        <button id="calculate-route">Calculate Route</button>
                        <div id="transport-modes">
                            <button class="transport-btn active" data-mode="car"><i class="fas fa-car"></i> Drive</button>
                            <button class="transport-btn" data-mode="walk"><i class="fas fa-walking"></i> Walk</button>
                            <button class="transport-btn" data-mode="bicycle"><i class="fas fa-bicycle"></i> Bike</button>
                            <button class="transport-btn" data-mode="transit"><i class="fas fa-subway"></i> Transit</button>
                        </div>
                    </div>
                    <div id="map-container">
                        <div id="map"></div>
                    </div>
                    <div id="map-info">
                        <h4>Route Information</h4>
                        <p>Enter your starting point and destination to calculate the best route.</p>
                        <div id="route-details" style="display: none;">
                            <p><strong>Distance:</strong> <span id="distance"></span></p>
                            <p><strong>Duration:</strong> <span id="duration"></span></p>
                            <ol class="route-instructions" id="instructions"></ol>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    
        <!-- Voice Explorer Section -->
        <section class="voice-explorer" id="voice-explorer">
            <div class="container">
                <div class="section-heading">
                    <h2 class="section-title">Voice-Controlled Explorer</h2>
                    <p class="section-subtitle">Discover destinations using voice commands and learn about them</p>
                </div>
                <div class="voice-explorer-container">
                    <div id="voice-controls">
                        <button id="micButton"><i class="fas fa-microphone"></i> Click and Speak Location</button>
                        <div id="voice-output">Speak a location to learn about it</div>
                    </div>
                    <div class="voice-explorer-content">
                        <div class="voice-map-container">
                            <div id="voice-map"></div>
                        </div>
                        <div class="voice-info-container">
                            <h3>Location History</h3>
                            <div id="voice-history">Information will appear here when you search for a location</div>
                            <button id="speakButton" style="display: none;">
                                <i class="fas fa-volume-up"></i> Play History
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    
        <!-- Trip Planner Section -->
        <section class="trip-planner" id="trip-planner">
            <div class="container">
                <div class="section-heading">
                    <h2 class="section-title">Trip Planner</h2>
                    <p class="section-subtitle">Create a personalized itinerary for your dream vacation</p>
                </div>
                <div class="trip-planner-container">
                    <form id="plannerForm">
                        <div class="planner-form">
                            <div class="planner-form-group">
                                <label for="destination">Destination</label>
                                <input type="text" id="destination" name="destination" required placeholder="Where do you want to go?">
                            </div>
                            <div class="planner-form-group">
                                <label for="trip-days">Trip Duration (days)</label>
                                <input type="number" id="trip-days" name="trip-days" min="1" max="30" value="7" required>
                            </div>
                            <div class="planner-form-group">
                                <label for="travel-date">Travel Date</label>
                                <input type="date" id="travel-date" name="travel-date" required>
                            </div>
                            <div class="planner-form-group">
                                <label for="travelers">Number of Travelers</label>
                                <input type="number" id="travelers" name="travelers" min="1" value="2" required>
                            </div>
                            <div class="planner-form-group">
                                <label for="interests">Interests</label>
                                <select id="interests" name="interests" multiple>
                                    <option value="history">History & Culture</option>
                                    <option value="nature">Nature & Outdoor</option>
                                    <option value="food">Food & Dining</option>
                                    <option value="shopping">Shopping</option>
                                    <option value="adventure">Adventure</option>
                                    <option value="relaxation">Relaxation</option>
                                </select>
                            </div>
                            <div class="planner-form-group">
                                <label for="budget">Budget Level</label>
                                <select id="budget" name="budget" required>
                                    <option value="budget">Budget</option>
                                    <option value="mid-range" selected>Mid-range</option>
                                    <option value="luxury">Luxury</option>
                                </select>
                            </div>
                        </div>
                        <div class="planner-form-group">
                            <label for="special-requests">Special Requests</label>
                            <textarea id="special-requests" name="special-requests" placeholder="Any specific places you want to visit or activities you want to do?"></textarea>
                        </div>
                        <button type="submit" class="btn">Generate Itinerary</button>
                    </form>
    
                    <div id="planner-results" class="planner-results">
                        <h3>Your Personalized Itinerary</h3>
                        <div id="itinerary-days"></div>
                        
                        <div class="local-cuisine">
                            <h3>Local Cuisine to Try</h3>
                            <div id="cuisine-list"></div>
                        </div>
                        
                        <div class="planner-actions">
                            <button id="save-itinerary" class="btn"><i class="fas fa-save"></i> Save Itinerary</button>
                            <button id="export-pdf" class="btn"><i class="fas fa-file-pdf"></i> Export as PDF</button>
                            <button id="book-trip" class="btn"><i class="fas fa-plane"></i> Book This Trip</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    
        <!-- Testimonials Section -->
        <section class="testimonials" id="testimonials">
            <div class="container">
                <div class="section-heading">
                    <h2 class="section-title">What Our Travelers Say</h2>
                    <p class="section-subtitle">Hear from our happy customers about their experiences with ExploreWorld</p>
                </div>
                <div class="testimonial-grid">
                    <!-- Testimonial 1 -->
                    <div class="testimonial-card">
                        <p>"The trip to Paris was absolutely magical! Everything was perfectly organized, from the hotel to the guided tours. I'll definitely be booking my next vacation with ExploreWorld."</p>
                        <div class="user">
                            <img src="https://randomuser.me/api/portraits/women/32.jpg" alt="Sarah Johnson" class="user-img">
                            <div class="user-info">
                                <h4>Sarah Johnson</h4>
                                <p>Paris, France</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Testimonial 2 -->
                    <div class="testimonial-card">
                        <p>"I was hesitant to book online, but ExploreWorld made the process so easy. The Tokyo tour exceeded all my expectations - the food, the culture, everything was amazing!"</p>
                        <div class="user">
                            <img src="https://randomuser.me/api/portraits/men/45.jpg" alt="Michael Chen" class="user-img">
                            <div class="user-info">
                                <h4>Michael Chen</h4>
                                <p>Tokyo, Japan</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Testimonial 3 -->
                    <div class="testimonial-card">
                        <p>"Our family vacation to Rome was unforgettable. The itinerary was perfectly tailored to our interests and the kids had a blast. 10/10!"</p>
                        <div class="user">
                            <img src="https://randomuser.me/api/portraits/women/68.jpg" alt="Emily Rodriguez" class="user-img">
                            <div class="user-info">
                                <h4>Emily Rodriguez</h4>
                                <p>Rome, Italy</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    
        <!-- Contact Section -->
        <section class="contact" id="contact">
            <div class="container">
                <div class="section-heading">
                    <h2 class="section-title">Get In Touch</h2>
                    <p class="section-subtitle">Have questions or ready to book your next adventure? Contact us today!</p>
                </div>
                <div class="contact-wrapper">
                    <div class="contact-info">
                        <h3>Contact Information</h3>
                        <div class="contact-info-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <p>123 Travel Street, Adventure City, AC 12345</p>
                        </div>
                        <div class="contact-info-item">
                            <i class="fas fa-phone-alt"></i>
                            <p>+1 (555) 123-4567</p>
                        </div>
                        <div class="contact-info-item">
                            <i class="fas fa-envelope"></i>
                            <p>info@exploreworld.com</p>
                        </div>
                        <div class="contact-info-item">
                            <i class="fas fa-clock"></i>
                            <p>Monday - Friday: 9:00 AM - 6:00 PM</p>
                        </div>
                        <div class="social-links">
                            <a href="#"><i class="fab fa-facebook-f"></i></a>
                            <a href="#"><i class="fab fa-twitter"></i></a>
                            <a href="#"><i class="fab fa-instagram"></i></a>
                            <a href="#"><i class="fab fa-youtube"></i></a>
                        </div>
                    </div>
                    <div class="contact-form">
                        <form id="contactForm">
                            <div id="formAlert" class="alert" style="display: none;"></div>
                            <div class="form-group">
                                <label for="name">Full Name</label>
                                <input type="text" id="name" name="name" required>
                            </div>
                            <div class="form-group">
                                <label for="email">Email Address</label>
                                <input type="email" id="email" name="email" required>
                            </div>
                            <div class="form-group">
                                <label for="phone">Phone Number</label>
                                <input type="tel" id="phone" name="phone">
                            </div>
                            <div class="form-group">
                                <label for="subject">Subject</label>
                                <select id="subject" name="subject" required>
                                    <option value="" disabled selected>Select a subject</option>
                                    <option value="general">General Inquiry</option>
                                    <option value="booking">Booking Information</option>
                                    <option value="custom">Custom Tour Request</option>
                                    <option value="feedback">Feedback</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="message">Your Message</label>
                                <textarea id="message" name="message" required></textarea>
                            </div>
                            <button type="submit" class="btn">Send Message</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    
        <!-- Booking Modal -->
        <div class="modal" id="bookingModal">
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <h2>Book Your Adventure</h2>
                <form id="bookingForm">
                    <div id="bookingAlert" class="alert" style="display: none;"></div>
                    <div class="form-group">
                        <label for="bookingDestination">Destination</label>
                        <input type="text" id="bookingDestination" name="bookingDestination" readonly>
                    </div>
                    <div class="form-group">
                        <label for="bookingName">Full Name</label>
                        <input type="text" id="bookingName" name="bookingName" required>
                    </div>
                    <div class="form-group">
                        <label for="bookingEmail">Email Address</label>
                        <input type="email" id="bookingEmail" name="bookingEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="bookingPhone">Phone Number</label>
                        <input type="tel" id="bookingPhone" name="bookingPhone" required>
                    </div>
                    <div class="form-group">
                        <label for="bookingDate">Travel Date</label>
                        <input type="date" id="bookingDate" name="bookingDate" required>
                    </div>
                    <div class="form-group">
                        <label for="bookingTravelers">Number of Travelers</label>
                        <input type="number" id="bookingTravelers" name="bookingTravelers" min="1" value="1" required>
                    </div>
                    <div class="form-group">
                        <label for="bookingNotes">Special Requests</label>
                        <textarea id="bookingNotes" name="bookingNotes"></textarea>
                    </div>
                    <button type="submit" class="btn">Complete Booking</button>
                </form>
            </div>
        </div>
    
        <!-- Footer -->
        <footer>
            <div class="container">
                <div class="footer-content">
                    <div class="footer-section">
                        <h3>About ExploreWorld</h3>
                        <p>We're passionate about creating unforgettable travel experiences that connect people with the world's most amazing destinations.</p>
                        <div class="social-links">
                            <a href="#"><i class="fab fa-facebook-f"></i></a>
                            <a href="#"><i class="fab fa-twitter"></i></a>
                            <a href="#"><i class="fab fa-instagram"></i></a>
                        </div>
                    </div>
                    <div class="footer-section">
                        <h3>Quick Links</h3>
                        <a href="#home">Home</a>
                        <a href="#destinations">Destinations</a>
                        <a href="#map-navigation">Map Navigation</a>
                        <a href="#voice-explorer">Voice Explorer</a>
                        <a href="#trip-planner">Trip Planner</a>
                        <a href="#testimonials">Testimonials</a>
                        <a href="#contact">Contact</a>
                    </div>
                    <div class="footer-section">
                        <h3>Support</h3>
                        <a href="#">FAQ</a>
                        <a href="#">Terms & Conditions</a>
                        <a href="#">Privacy Policy</a>
                        <a href="#">Cancellation Policy</a>
                        <a href="#">Travel Insurance</a>
                    </div>
                    <div class="footer-section">
                        <h3>Newsletter</h3>
                        <p>Subscribe to get special offers and travel inspiration</p>
                        <form id="newsletterForm">
                            <div class="form-group">
                                <input type="email" placeholder="Your Email Address" required>
                            </div>
                            <button type="submit" class="btn">Subscribe</button>
                        </form>
                    </div>
                </div>
                <div class="copyright">
                    <p>&copy; 2023 ExploreWorld. All rights reserved.</p>
                </div>
            </div>
        </footer>
    
        <!-- Leaflet JS -->
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
        <!-- Leaflet Routing Machine JS -->
        <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js"></script>
        <script>
            // Mobile Menu Toggle
            const menuToggle = document.querySelector('.menu-toggle');
            const navLinks = document.querySelector('.nav-links');
            const header = document.querySelector('header');
    
            menuToggle.addEventListener('click', () => {
                navLinks.classList.toggle('active');
            });
    
            // Close mobile menu when clicking on a link
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.addEventListener('click', () => {
                    navLinks.classList.remove('active');
                });
            });
    
            // Header scroll effect
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    header.classList.add('header-scrolled');
                } else {
                    header.classList.remove('header-scrolled');
                }
            });
    
            // Booking modal
            const bookNowBtns = document.querySelectorAll('.book-btn, #bookNowBtn, #book-trip');
            const bookingModal = document.getElementById('bookingModal');
            const closeModal = document.querySelector('.close-modal');
            const bookingDestination = document.getElementById('bookingDestination');
    
            bookNowBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    if (btn.dataset.destination) {
                        bookingDestination.value = btn.dataset.destination;
                    } else if (document.getElementById('destination') && document.getElementById('destination').value) {
                        bookingDestination.value = document.getElementById('destination').value;
                    }
                    bookingModal.style.display = 'flex';
                    setTimeout(() => {
                        bookingModal.classList.add('active');
                    }, 10);
                });
            });
    
            closeModal.addEventListener('click', () => {
                bookingModal.classList.remove('active');
                setTimeout(() => {
                    bookingModal.style.display = 'none';
                }, 300);
            });
    
            // Close modal when clicking outside
            window.addEventListener('click', (e) => {
                if (e.target === bookingModal) {
                    bookingModal.classList.remove('active');
                    setTimeout(() => {
                        bookingModal.style.display = 'none';
                    }, 300);
                }
            });
    
            // Form submissions
            document.getElementById('contactForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const alert = document.getElementById('formAlert');
                alert.style.display = 'block';
                alert.textContent = 'Thank you for your message! We will get back to you soon.';
                alert.className = 'alert alert-success';
                this.reset();
                setTimeout(() => {
                    alert.style.display = 'none';
                }, 5000);
            });
    
            document.getElementById('bookingForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const alert = document.getElementById('bookingAlert');
                alert.style.display = 'block';
                alert.textContent = `Your booking for ${bookingDestination.value} has been received! We'll contact you shortly to confirm.`;
                alert.className = 'alert alert-success';
                this.reset();
                bookingDestination.value = '';
                setTimeout(() => {
                    alert.style.display = 'none';
                    bookingModal.classList.remove('active');
                    setTimeout(() => {
                        bookingModal.style.display = 'none';
                    }, 300);
                }, 5000);
            });
    
            document.getElementById('newsletterForm').addEventListener('submit', function(e) {
                e.preventDefault();
                alert('Thank you for subscribing to our newsletter!');
                this.reset();
            });
    
            // Initialize Map
            function initMap() {
                // Create map centered on Europe
                const map = L.map('map').setView([48.8566, 2.3522], 5);
    
                // Add OpenStreetMap tiles
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                }).addTo(map);
    
                // Routing control
                const control = L.Routing.control({
                    waypoints: [],
                    routeWhileDragging: true,
                    showAlternatives: true,
                    altLineOptions: {
                        styles: [
                            {color: 'black', opacity: 0.15, weight: 9},
                            {color: 'white', opacity: 0.8, weight: 6},
                            {color: '#3498db', opacity: 1, weight: 4}
                        ]
                    },
                    lineOptions: {
                        styles: [
                            {color: 'black', opacity: 0.15, weight: 9},
                            {color: 'white', opacity: 0.8, weight: 6},
                            {color: '#f1c40f', opacity: 1, weight: 4}
                        ]
                    },
                    formatter: new L.Routing.Formatter({
                        language: 'en',
                        unit: 'metric'
                    })
                }).addTo(map);
    
                // Transport mode buttons
                const transportButtons = document.querySelectorAll('.transport-btn');
                let currentMode = 'car';
    
                transportButtons.forEach(button => {
                    button.addEventListener('click', function() {
                        transportButtons.forEach(btn => btn.classList.remove('active'));
                        this.classList.add('active');
                        currentMode = this.dataset.mode;
                        
                        // Update routing profile based on selected mode
                        control.setOptions({
                            router: L.Routing.osrmv1({
                                serviceUrl: 'https://router.project-osrm.org/route/v1',
                                profile: currentMode === 'walk' ? 'foot' : 
                                         currentMode === 'bicycle' ? 'bicycle' : 
                                         currentMode === 'transit' ? 'driving' : 'driving'
                            })
                        });
                        
                        // Recalculate route if we have waypoints
                        if (control.getWaypoints().length > 0) {
                            calculateRoute();
                        }
                    });
                });
    
                // Route calculation function
                function calculateRoute() {
                    const start = document.getElementById('start-point').value;
                    const end = document.getElementById('end-point').value;
                    const routeDetails = document.getElementById('route-details');
                    const instructions = document.getElementById('instructions');
                    
                    if (!start || !end) {
                        document.getElementById('map-info').innerHTML = `
                            <h4>Route Information</h4>
                            <p class="error">Please enter both starting point and destination.</p>
                        `;
                        return;
                    }
    
                    // Geocode start and end points
                    Promise.all([
                        fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(start)}`).then(res => res.json()),
                        fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(end)}`).then(res => res.json())
                    ]).then(data => {
                        const startData = data[0][0];
                        const endData = data[1][0];
                        
                        if (!startData || !endData) {
                            document.getElementById('map-info').innerHTML = `
                                <h4>Route Information</h4>
                                <p class="error">Could not find one or both locations. Please try different names.</p>
                            `;
                            return;
                        }
                        
                        const startPoint = L.latLng(startData.lat, startData.lon);
                        const endPoint = L.latLng(endData.lat, endData.lon);
                        
                        // Set waypoints and calculate route
                        control.setWaypoints([startPoint, endPoint]);
                        
                        // Listen for route calculation
                        control.on('routesfound', function(e) {
                            const routes = e.routes;
                            const summary = routes[0].summary;
                            
                            // Update route info
                            document.getElementById('distance').textContent = `${(summary.totalDistance / 1000).toFixed(1)} km`;
                            document.getElementById('duration').textContent = `${Math.round(summary.totalTime / 60)} min`;
                            
                            // Update instructions
                            instructions.innerHTML = '';
                            routes[0].instructions.forEach(instruction => {
                                const li = document.createElement('li');
                                li.textContent = instruction.text;
                                instructions.appendChild(li);
                            });
                            
                            routeDetails.style.display = 'block';
                        });
                        
                    }).catch(err => {
                        console.error('Error:', err);
                        document.getElementById('map-info').innerHTML = `
                            <h4>Route Information</h4>
                            <p class="error">There was an error calculating the route. Please try again later.</p>
                        `;
                    });
                }
    
                // Calculate route button
                document.getElementById('calculate-route').addEventListener('click', calculateRoute);
            }
    
            // Initialize Voice Explorer Map
            function initVoiceMap() {
                // Create map centered on world view
                const voiceMap = L.map('voice-map').setView([20, 0], 2);
                
                // Add OpenStreetMap tiles
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                }).addTo(voiceMap);
    
                // Variables for location tracking
                let currentPosition = null;
                let currentMarker = null;
                let currentHistory = "";
    
                // Try to get current location
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(
                        (position) => {
                            currentPosition = {
                                lat: position.coords.latitude,
                                lng: position.coords.longitude
                            };
                            voiceMap.setView([currentPosition.lat, currentPosition.lng], 13);
                            if (currentMarker) {
                                voiceMap.removeLayer(currentMarker);
                            }
                            currentMarker = L.marker([currentPosition.lat, currentPosition.lng])
                                .addTo(voiceMap)
                                .bindPopup("Your Location")
                                .openPopup();
                        },
                        (error) => {
                            console.error("Geolocation error:", error);
                            document.getElementById('voice-output').textContent = 
                                "Couldn't get your location. Using default view.";
                        }
                    );
                }
    
                // Speech Recognition Setup
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                let recognition;
    
                if (SpeechRecognition) {
                    recognition = new SpeechRecognition();
                    recognition.continuous = false;
                    recognition.interimResults = false;
                    recognition.lang = 'en-US';
    
                    recognition.onresult = async (event) => {
                        const location = event.results[0][0].transcript;
                        document.getElementById('voice-output').textContent = `Searching for: ${location}`;
                        await getLocationInfo(location, voiceMap);
                    };
    
                    recognition.onerror = (event) => {
                        console.error('Speech recognition error', event.error);
                        document.getElementById('voice-output').textContent = `Error: ${event.error}`;
                    };
                } else {
                    document.getElementById('voice-output').textContent = 
                        'Speech Recognition not supported in your browser. Try Chrome or Edge.';
                }
    
                // Microphone button handler
                document.getElementById('micButton').addEventListener('click', () => {
                    if (!recognition) {
                        document.getElementById('voice-output').textContent = 
                            'Speech recognition not available';
                        return;
                    }
    
                    try {
                        recognition.start();
                        document.getElementById('voice-output').textContent = 'Listening...';
                    } catch (error) {
                        console.error('Error starting recognition:', error);
                        document.getElementById('voice-output').textContent = 'Error accessing microphone';
                    }
                });
    
                // Speak button handler
                document.getElementById('speakButton').addEventListener('click', () => {
                    if (!currentHistory) return;
                    
                    const speech = new SpeechSynthesisUtterance();
                    speech.text = currentHistory;
                    speech.rate = 0.9;
                    speech.pitch = 1;
                    window.speechSynthesis.speak(speech);
                });
    
                // Get location information from Wikipedia
                async function getLocationInfo(location, map) {
                    try {
                        // First get coordinates from Nominatim
                        const response = await fetch(
                            `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(location)}`
                        );
                        const results = await response.json();
                        
                        if (results.length === 0) {
                            throw new Error("Location not found");
                        }
                        
                        const coords = [parseFloat(results[0].lat), parseFloat(results[0].lon)];
                        const name = results[0].display_name;
                        
                        // Update map
                        map.setView(coords, 13);
                        if (currentMarker) {
                            map.removeLayer(currentMarker);
                        }
                        currentMarker = L.marker(coords)
                            .addTo(map)
                            .bindPopup(name)
                            .openPopup();
                        
                        document.getElementById('voice-output').textContent = `Found: ${name}`;
                        
                        // Now get historical information from Wikipedia
                        const wikiResponse = await fetch(
                            `https://en.wikipedia.org/w/api.php?action=query&prop=extracts|pageimages&exintro&explaintext&format=json&titles=${encodeURIComponent(name.split(',')[0])}&origin=*`
                        );
                        const wikiData = await wikiResponse.json();
                        const pages = wikiData.query.pages;
                        const pageId = Object.keys(pages)[0];
                        
                        if (pageId === "-1") {
                            currentHistory = `No detailed information available about ${name}.`;
                        } else {
                            currentHistory = pages[pageId].extract || `Historical information about ${name} is limited.`;
                        }
                        
                        document.getElementById('voice-history').innerHTML = 
                            `<h4>${name}</h4><p>${currentHistory}</p>`;
                        document.getElementById('speakButton').style.display = 'inline-block';
                        
                    } catch (error) {
                        console.error("Error:", error);
                        document.getElementById('voice-output').textContent = `Error: ${error.message}`;
                        document.getElementById('voice-history').textContent = `Could not retrieve information: ${error.message}`;
                    }
                }
            }
    
            // Trip Planner Functionality
            document.getElementById('plannerForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const destination = document.getElementById('destination').value;
                const days = parseInt(document.getElementById('trip-days').value);
                const interests = Array.from(document.getElementById('interests').selectedOptions).map(option => option.value);
                const budget = document.getElementById('budget').value;
                const specialRequests = document.getElementById('special-requests').value;
                
                // Generate itinerary
                generateItinerary(destination, days, interests, budget, specialRequests);
                
                // Show results section
                document.getElementById('planner-results').style.display = 'block';
                
                // Scroll to results
                document.getElementById('planner-results').scrollIntoView({ behavior: 'smooth' });
            });
    
            // Sample data for itineraries and cuisines
            const itineraryTemplates = {
                'paris': {
                    activities: [
                        "Visit the Eiffel Tower and enjoy the view from the top",
                        "Explore the Louvre Museum and see the Mona Lisa",
                        "Take a Seine River cruise at sunset",
                        "Stroll through Montmartre and visit SacrÃ©-CÅ“ur",
                        "Enjoy a coffee at a traditional Parisian cafÃ©",
                        "Shop along the Champs-Ã‰lysÃ©es",
                        "Visit Notre-Dame Cathedral (check for reopening status)",
                        "Explore the MusÃ©e d'Orsay",
                        "Take a day trip to Versailles Palace",
                        "Discover the Latin Quarter and its bookshops"
                    ],
                    cuisine: [
                        {
                            name: "Croissant",
                            description: "Buttery, flaky pastry best enjoyed fresh from a boulangerie",
                            image: "https://images.unsplash.com/photo-1563805042-7684c019e1cb?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80"
                        },
                        {
                            name: "Baguette Sandwich",
                            description: "Fresh baguette filled with ham, cheese, and butter",
                            image: "https://images.unsplash.com/photo-1509440159596-0249088772ff?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80"
                        },
                        {
                            name: "Croque Monsieur",
                            description: "Grilled ham and cheese sandwich, often topped with bÃ©chamel sauce",
                            image: "https://images.unsplash.com/photo-1551504734-5ee1c4a1479b?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80"
                        }
                    ]
                },
                'rome': {
                    activities: [
                        "Visit the Colosseum and Roman Forum",
                        "Throw a coin in the Trevi Fountain",
                        "Explore Vatican City and St. Peter's Basilica",
                        "See the Pantheon and Piazza Navona",
                        "Enjoy authentic Italian gelato",
                        "Walk through Trastevere neighborhood",
                        "Visit the Spanish Steps",
                        "Explore the Borghese Gallery and Gardens",
                        "Take a day trip to Pompeii",
                        "Discover the Catacombs of Rome"
                    ],
                    cuisine: [
                        {
                            name: "Pasta Carbonara",
                            description: "Classic Roman pasta with eggs, cheese, pancetta, and pepper",
                            image: "https://images.unsplash.com/photo-1611270632003-7a7ede0b3d26?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80"
                        },
                        {
                            name: "Pizza Romana",
                            description: "Thin-crust Roman-style pizza with simple toppings",
                            image: "https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80"
                        },
                        {
                            name: "Gelato",
                            description: "Italian-style ice cream with intense flavors",
                            image: "https://images.unsplash.com/photo-1551024506-0bccd828d307?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80"
                        }
                    ]
                },
                'tokyo': {
                    activities: [
                        "Visit SensÅ-ji Temple in Asakusa",
                        "Explore the Shibuya Crossing",
                        "See the view from Tokyo Skytree",
                        "Walk through Meiji Shrine and Yoyogi Park",
                        "Experience Akihabara's electronics and anime culture",
                        "Visit Tsukiji Outer Market for fresh sushi",
                        "Explore Shinjuku's nightlife",
                        "Take a day trip to Mount Fuji",
                        "Visit teamLab Planets digital art museum",
                        "Experience a traditional tea ceremony"
                    ],
                    cuisine: [
                        {
                            name: "Sushi",
                            description: "Fresh raw fish served over vinegared rice",
                            image: "https://images.unsplash.com/photo-1579871494447-9811cf80d66c?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80"
                        },
                        {
                            name: "Ramen",
                            description: "Noodle soup with various broths and toppings",
                            image: "https://images.unsplash.com/photo-1569718212165-3a8278d5f624?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80"
                        },
                        {
                            name: "Takoyaki",
                            description: "Ball-shaped snack with diced octopus inside",
                            image: "https://images.unsplash.com/photo-1633623954768-70a7625a8e7a?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80"
                        }
                    ]
                }
            };
    
            function generateItinerary(destination, days, interests, budget, specialRequests) {
                const itineraryDays = document.getElementById('itinerary-days');
                const cuisineList = document.getElementById('cuisine-list');
                
                // Clear previous content
                itineraryDays.innerHTML = '';
                cuisineList.innerHTML = '';
                
                // Get template based on destination (simplified for demo)
                const destinationKey = destination.toLowerCase().includes('paris') ? 'paris' : 
                                      destination.toLowerCase().includes('rome') ? 'rome' : 
                                      destination.toLowerCase().includes('tokyo') ? 'tokyo' : 'paris';
                
                const template = itineraryTemplates[destinationKey];
                
                // Generate daily itinerary
                          const activitiesPerDay = Math.ceil(template.activities.length / days);
            
            for (let day = 1; day <= days; day++) {
                const dayCard = document.createElement('div');
                dayCard.className = 'itinerary-day';
                dayCard.innerHTML = `<h4>Day ${day}</h4><ul></ul>`;
                
                const ul = dayCard.querySelector('ul');
                const startIndex = (day - 1) * activitiesPerDay;
                const endIndex = Math.min(startIndex + activitiesPerDay, template.activities.length);
                
                for (let i = startIndex; i < endIndex; i++) {
                    const li = document.createElement('li');
                    li.textContent = template.activities[i];
                    ul.appendChild(li);
                }
                
                itineraryDays.appendChild(dayCard);
            }
            
            // Generate cuisine list
            template.cuisine.forEach(item => {
                const cuisineItem = document.createElement('div');
                cuisineItem.className = 'cuisine-item';
                cuisineItem.innerHTML = `
                    <img src="${item.image}" alt="${item.name}">
                    <div>
                        <h5>${item.name}</h5>
                        <p>${item.description}</p>
                    </div>
                `;
                cuisineList.appendChild(cuisineItem);
            });
            
            // Add special requests if provided
            if (specialRequests) {
                const specialCard = document.createElement('div');
                specialCard.className = 'itinerary-special';
                specialCard.innerHTML = `
                    <h4>Special Requests</h4>
                    <p>${specialRequests}</p>
                `;
                itineraryDays.appendChild(specialCard);
            }
            
            // Set up export buttons
            document.getElementById('save-itinerary').onclick = function() {
                alert('Itinerary saved to your account!');
            };
            
            document.getElementById('export-pdf').onclick = function() {
                alert('PDF export would be generated here in a real implementation');
            };
            
            document.getElementById('book-trip').onclick = function() {
                document.getElementById('bookingDestination').value = destination;
                bookingModal.style.display = 'flex';
                setTimeout(() => {
                    bookingModal.classList.add('active');
                }, 10);
            };
        }

        // Initialize maps when page loads
        window.addEventListener('DOMContentLoaded', () => {
            initMap();
            initVoiceMap();
            
            // Set minimum date for trip planner to today
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('travel-date').setAttribute('min', today);
            document.getElementById('bookingDate').setAttribute('min', today);
        });
    </script>
</body>
</html>